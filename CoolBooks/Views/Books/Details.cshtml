@using CoolBooks.Models
@{


    Books bk = ViewData["Books"] as Books;
    @* Reviews reviews = ViewData["Reviews"] as Reviews; *@
    IEnumerable<Reviews> rev = ViewData["Reviews"] as IEnumerable<Reviews>;
}


@*
    @{
        var imagePath = @Model.ImagePath;
    }

*@
<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Details</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script type="text/javascript">
        $(function () {
            $('#Comments').keyup(function (e) {
                var max = 500;
                var len = $(this).val().length;
                var char = max - len;
                $('#text-counter').html(char);
            });
        });

    </script>
</head>
<body>
    <div>
        <h4>Books</h4>
        <hr />
        @using (Html.BeginForm())
    {
        <table class="table table-striped" border="0">
            <tr rowspan="2">
                <td>
                    <img src=@bk.ImagePath alt="Image not Available" width="200" height="200" />
                </td>
                <td>

                    <table class="table table-striped" border="0">
                        <tr>
                            <td> Title</td>
                            <td>@bk.Title</td>

                        </tr>
                        <tr>
                            <td> Description</td>
                            <td>@bk.Description</td>

                        </tr>
                        <tr>
                            <td>  Author</td>
                            <td> @bk.Authors.FirstName</td>

                        </tr>
                        <tr>
                            <td>  Genres</td>
                            <td> @bk.Genres.Name</td>

                        </tr>
                    </table>
                </td>

            </tr>

            <tr>
                <td width="400" height="200"></td>
                <td align="right">
                    <table align="right" class="table table-striped" border="0">

                        @foreach (var reviews in rev)
                    {
                        <tr>  <td colspan="2"><B>@reviews.UserId</B></td> </tr>
                        <tr>  <td colspan="2">@reviews.Title  @reviews.Created </td> </tr>
                        <tr><td>@reviews.Text </td><td> @Html.ActionLink("Delete", "Delete", new { id = string.Empty }, new { @class = "btn btn-primary " })</td></tr>
                        @*
                        <td>@reviews.Rating</td> *@

                }
                        <tr><td colspan="2"><B>USERNAME</B></td></tr>
                        <tr>
                            <td>
                                <span id="text-counter">4000</span> character(s) left.
                                @Html.TextArea("Comments", htmlAttributes: new { rows = "5", cols = "100", @class = "form-control", maxlength = "4000" })
                                @*   @Html.TextArea("Review", new { maxlength = 500, style = "width:100%; height:100px;" }) </ td > *@


                            <td>
                                <input type="submit" name="n1" value="Save" class="btn btn-primary" />
                                @Html.ActionLink("Save Jonas", "Save", new { id = string.Empty }, new { @class = "btn btn-primary " })

                            </td>

                        </tr>

                    </table>

                </td>

            </tr>


        </table>
}
    </div>
       

                                <p>

                                @*    @Html.ActionLink("Edit", "Edit", new { id = ViewBag.Books.Id }) | *@
                                @Html.ActionLink("Back to List", "Index", new { id = string.Empty }, new { @class = "btn btn-primary " })

                                </p>
</body>
</html>
